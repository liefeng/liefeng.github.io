<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="猎风"><title>机器学习与科学计算（更新中） · 猎风's Blog</title><meta name="description" content="写在前面：转眼之间大学的第2.5年就要结束了，而从2011年搭建博客到现在，也已近7年时光。当下，明确了未来的专业方向，也为了握住青春的尾巴，决定在所学专业领域和计算机技术（爱好）有所对接，毕竟学术上我的老师还是很棒的！（张胤教授、柳召刚教授、方中纯博士和徐洋博士），而本专业相关则长期局限于工科，为"><meta name="keywords" content="Hexo,猎风,博客,Blog,0page"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title><a href="/">猎风's Blog</a></h3><div class="description"><p>百炼成钢</p></div></div></div><ul class="social-links"><li><a href="https://twitter.com/1073512358"><i class="fa fa-twitter"></i></a></li><li><a href="http://github.com/liefeng"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="/images/favicon.png"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>机器学习与科学计算（更新中）</a></h3></div><div class="post-content"><p>写在前面：转眼之间大学的第2.5年就要结束了，而从2011年搭建博客到现在，也已近7年时光。当下，明确了未来的专业方向，也为了握住青春的尾巴，决定在所学专业领域和计算机技术（爱好）有所对接，毕竟学术上我的老师还是很棒的！（张胤教授、柳召刚教授、方中纯博士和徐洋博士），而本专业相关则长期局限于工科，为了对接到信息化也只是时间问题，作为专业的“独苗”，也有责任进行一些相应的探（zhe）索（teng）。就像自己所期待的那类技术圈的人一样，我希望最后我可以拿着具体到点的问题去问老师，而不是一副“我想做什么但是我不会也不愿意学，你会你就必须给我代工完成xxx”这样的loser的样子。</p>
<p><div class="tip"><br>尊重他人就是尊重你自己！你怎么对待别人，别人就会怎么对你！<br></div><br>以记录工业仿真和计算化学的单元操作coding为主，防止出现版权问题和“基础不牢地动山摇”的情况。</p>
<p>数学参考：</p>
<ul>
<li>《Numerical Methods for Engineers（Sixth Edition）》</li>
<li><a href="http://www.cad.zju.edu.cn/home/zhx/csmath/doku.php?id=start" title="RGB-Group" target="_blank" rel="noopener">浙江大学RGB-Group</a></li>
<li>Google、Yahoo</li>
</ul>
<h1 id="重要配置——关闭win10自动更新"><a href="#重要配置——关闭win10自动更新" class="headerlink" title="重要配置——关闭win10自动更新"></a>重要配置——关闭win10自动更新</h1><p>首先要写的是与机器学习无关的内容，因为我所使用的设备是Windows 10系统的辣鸡电脑，而这坑爹系统总容易因为蜜汁更新导致文件缺失，所以，为了解决这个问题就一定要在进行任何软件/环境配置之前关闭自动更新！<br>操作方法为：计算机（此电脑）-右键-管理-服务和应用程序-服务-Windows update-右键-属性-禁用-关闭</p>
<h1 id="Windows10搭建python数据分析-机器学习环境"><a href="#Windows10搭建python数据分析-机器学习环境" class="headerlink" title="Windows10搭建python数据分析/机器学习环境"></a>Windows10搭建python数据分析/机器学习环境</h1><p>这里同理于Linux上搭建机器学习环境，下载安装Anaconda，为了方便和现有开源包的匹配，我选择python2.7版本，对应Anaconda是2.X版本。之后像常规安装软件一样安装就行了。</p>
<p>在安装过程中，可能会遇到<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">failed to create anacoda menue？</span><br></pre></td></tr></table></figure></p>
<p>解决方案有：</p>
<ul>
<li>安装目录中不得出现中文或其他奇怪的符号</li>
<li>CMD中进入安装目录，然后执行 python .\Libs_nsis.py mkmenus</li>
<li>将JAVA的环境变量JAVA_HOME和PATH先删掉，就可以顺利安装了。</li>
</ul>
<p>安装好之后，其中Navigator是图形界面，可以切换python版本，同时能够在右侧搜索未安装的包，然而出于众所周知的原因，Anaconda官方的源下载速度基本上你懂的，所以这个时候建议切换国内的源。<br>添加Anaconda的TUNA镜像<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --add channels https:<span class="comment">//mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span></span><br></pre></td></tr></table></figure></p>
<p>设置搜索时显示通道地址<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --<span class="keyword">set</span> show_channel_urls yes</span><br></pre></td></tr></table></figure></p>
<p>对于anaconda，建议直接使用其自带的IDE——Spyder，打开后，默认就加载了ipython和python两个解释器。对于conda命令无法使用的情况，在环境变量中添加将anaconda安装目录下的Scripts。对于CMD下不能使用anaconda同理，添加安装目录到环境变量即可。</p>
<p>关于机器学习环境，直接借助开源包即可，这里直接pass掉某显卡包，毕竟我的电脑还要自己用！！直接使用Scikit-Learn，Numpy ,Scipy ,Matplotlib。关于这个网上有很多安装教程，我直接用conda和pip安装，之后遇到需要再拓展的包，随用随装。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">conda install scipy</span><br><span class="line">conda install theano</span><br><span class="line">conda install keras</span><br><span class="line">pip install tensorflow</span><br><span class="line">pip install sklearn</span><br><span class="line">pip install numpy</span><br><span class="line">pip install matplotlib</span><br></pre></td></tr></table></figure></p>
<p>emmmm实际上上面有点多此一举了，貌似Anaconda已经集成了这些。总之环境搭建的重心还是放在Anaconda的安装上，其他不懂的就问Google吧。</p>
<h1 id="Runge-Kutta-的python实现"><a href="#Runge-Kutta-的python实现" class="headerlink" title="Runge-Kutta 的python实现"></a>Runge-Kutta 的python实现</h1><p>龙格库塔法是工程上常用的微分方程的数值计算方法，因为在冶金、化工过程当中，很多简单模型（如极其简单的那种有边界条件的一维稳态计算）都可以化简为简单的4阶龙哥库塔法模型，所以使用计算机语言掌握这种方法也是很有必要的！！</p>
<ul>
<li><a href="https://zh.wikipedia.org/zh-hans/%E9%BE%99%E6%A0%BC%EF%BC%8D%E5%BA%93%E5%A1%94%E6%B3%95" target="_blank" rel="noopener">Runge-Kutta methods</a></li>
</ul>
<p>而在计算机程序运作当中，节约时间成本是非！常！必！要！的！所以这种情况下一般使用构造-调用函数的方法来完成计算。下面具体分析：<br>首先，根据常微分方程，将其构造为一个自定义函数，如果你是一个常微分方程的计算，就构造一个；如果是常微分方程组就构造多个。python当中使用def语法来构造，比如我将方程f=y-（2*x/y）构造为fxy，代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def fxy(x,y):  </span><br><span class="line">   f = y - (<span class="number">2</span> * x / y)  </span><br><span class="line">   <span class="keyword">return</span> f</span><br></pre></td></tr></table></figure></p>
<p>接下来就是构造一个迭代器，用于解常微分方程（组）。龙格库塔法的数学表达并不难，这里必须强调的几个点是：</p>
<ul>
<li>x0，y0均为初值条件</li>
<li>h为步长，即微积分当中所谓的极小长度dx或dy</li>
<li>N为迭代数，迭代次数为N-n，一般来说迭代次数越多，输出值约精确。这是一种迭代逼近。</li>
</ul>
<p>代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def rk4(x0,y0,h,N):  </span><br><span class="line">    n = <span class="number">1</span>  </span><br><span class="line">    <span class="keyword">while</span>(n != N):  </span><br><span class="line">        x1 = x0 + h  </span><br><span class="line">        k1 = fxy(x0, y0)  </span><br><span class="line">        k2 = fxy(x0+h/<span class="number">2</span>, y0+h*k1/<span class="number">2</span>)  </span><br><span class="line">        k3 = fxy(x0+h/<span class="number">2</span>, y0+h*k2/<span class="number">2</span>)  </span><br><span class="line">        k4 = fxy(x1, y0+h*k3)  </span><br><span class="line">        y1 = y0 + h * (k1 + <span class="number">2</span>* k2 + <span class="number">2</span> * k3 + k4) / <span class="number">6</span>  </span><br><span class="line">        print(<span class="string">"%.2f, %.6f"</span> %(x1, y1))  </span><br><span class="line">        n = n + <span class="number">1</span>  </span><br><span class="line">        x0 = x1  </span><br><span class="line">        y0 = y1</span><br></pre></td></tr></table></figure></p>
<p>接下来就是主要计算的部分了，为了方便设定，初值条件、步长、迭代数实现自设定，直接人工输入，之后调用上面写好的函数即可，这里你也可以把主要计算构造成一个函数，然后执行即可。代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def main():  </span><br><span class="line">    x0=float(input(<span class="string">"x0= "</span>))</span><br><span class="line">    y0=float(input(<span class="string">"y0= "</span>))</span><br><span class="line">    h=float(input(<span class="string">"h= "</span>))</span><br><span class="line">    N=float(input(<span class="string">"N= "</span>))</span><br><span class="line">    rk4(x0,y0,h,N)  </span><br><span class="line">main()</span><br></pre></td></tr></table></figure></p>
<p>接下来可以举个例子来计算常微分方程组：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">def fxyzw(x, y, z, w):</span><br><span class="line">    f = z * <span class="number">0.1</span></span><br><span class="line">    <span class="keyword">return</span> f</span><br><span class="line">def gxyzw(x, y, z, w):</span><br><span class="line">    g = w * <span class="number">0.1</span></span><br><span class="line">    <span class="keyword">return</span> g</span><br><span class="line">def pxyzw(x, y, z, w):</span><br><span class="line">    p = (x **<span class="number">2</span> + y ** <span class="number">2</span> + z ** <span class="number">2</span> + w ** <span class="number">2</span>) ** (<span class="number">1</span> / <span class="number">2</span>) * <span class="number">0.1</span></span><br><span class="line">    <span class="keyword">return</span> p   </span><br><span class="line">def rg4(x0,y0,z0,w0,h,N):  </span><br><span class="line">    n = <span class="number">1</span>  </span><br><span class="line">    <span class="keyword">while</span>(n != N):  </span><br><span class="line">        x1 = x0 + h  </span><br><span class="line">        k1 = fxyzw(x0, y0, z0, w0)</span><br><span class="line">        l1 = gxyzw(x0, y0, z0, w0)</span><br><span class="line">        m1 = pxyzw(x0, y0, z0, w0)</span><br><span class="line">        k2 = fxyzw(x0+h/<span class="number">2</span>, y0+h*k1/<span class="number">2</span>, z0+h*l1/<span class="number">2</span>, w0+h*m1/<span class="number">2</span>)  </span><br><span class="line">        l2 = gxyzw(x0+h/<span class="number">2</span>, y0+h*k1/<span class="number">2</span>, z0+h*l1/<span class="number">2</span>, w0+h*m1/<span class="number">2</span>)  </span><br><span class="line">        m2 = pxyzw(x0+h/<span class="number">2</span>, y0+h*k1/<span class="number">2</span>, z0+h*l1/<span class="number">2</span>, w0+h*m1/<span class="number">2</span>)          </span><br><span class="line">        k3 = fxyzw(x0+h/<span class="number">2</span>, y0+h*k2/<span class="number">2</span>, z0+h*l2/<span class="number">2</span>, w0+h*m2/<span class="number">2</span>)  </span><br><span class="line">        l3 = gxyzw(x0+h/<span class="number">2</span>, y0+h*k2/<span class="number">2</span>, z0+h*l2/<span class="number">2</span>, w0+h*m2/<span class="number">2</span>) </span><br><span class="line">        m3 = pxyzw(x0+h/<span class="number">2</span>, y0+h*k2/<span class="number">2</span>, z0+h*l2/<span class="number">2</span>, w0+h*m2/<span class="number">2</span>) </span><br><span class="line">        k4 = fxyzw(x1, y0+h*k3, z0+h*l3, w0+h*m3)  </span><br><span class="line">        l4 = gxyzw(x1, y0+h*k3, z0+h*l3, w0+h*m3) </span><br><span class="line">        m4 = pxyzw(x1, y0+h*k3, z0+h*l3, w0+h*m3) </span><br><span class="line">        y1 = y0 + h * (k1 + <span class="number">2</span>* k2 + <span class="number">2</span> * k3 + k4) / <span class="number">6</span>  </span><br><span class="line">        z1 = z0 + h * (l1 + <span class="number">2</span>* l2 + <span class="number">2</span> * l3 + l4) / <span class="number">6</span>  </span><br><span class="line">        w1 = w0 + h * (m1 + <span class="number">2</span>* m2 + <span class="number">2</span> * m3 + m4) / <span class="number">6</span>          </span><br><span class="line">        print(<span class="string">"%.2f, %.6f, %.6f, %.6f"</span> %(x1, y1, z1, w1))  </span><br><span class="line">        n = n + <span class="number">1</span>  </span><br><span class="line">        x0 = x1  </span><br><span class="line">        y0 = y1</span><br><span class="line">        z0 = z1</span><br><span class="line">        w0 = w1</span><br><span class="line">def main():  </span><br><span class="line">    x0=float(input(<span class="string">"x0= "</span>))</span><br><span class="line">    y0=float(input(<span class="string">"y0= "</span>))</span><br><span class="line">    z0=float(input(<span class="string">"z0= "</span>))</span><br><span class="line">    w0=float(input(<span class="string">"w0= "</span>))    </span><br><span class="line">    h=float(input(<span class="string">"h= "</span>))</span><br><span class="line">    N=float(input(<span class="string">"N= "</span>))</span><br><span class="line">    rg4(x0,y0,z0,w0,h,N)  </span><br><span class="line">main()</span><br></pre></td></tr></table></figure></p>
<p>这里注意2点：</p>
<ul>
<li>Python中有单目运算符+（正号）、-（负号）。双目运算符：+、 - 、 *、 /、 %、**、//，分别表示加、减、乘、除法、取余、求幂、整除。所以要用对符号！！</li>
<li>类似一个多元常微分方程组，记得把程序里的变量数和元数匹配！！</li>
</ul>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-12-27</span><i class="fa fa-tag"></i><a href="/tags/技术/" title="技术" class="tag">技术 </a></div></div></div></div><div class="share"><div class="evernote"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"><a href="http://twitter.com/home?status=,http://yoursite.com/2017/12/27/0x002/,猎风's Blog,机器学习与科学计算（更新中）,;" class="fa fa-twitter"></a></div></div></div></div></div><div class="post"><div class="tags"><a href="/tags/技术/">技术</a></div><div class="post-nav"><a href="/2018/01/17/article/" class="pre">幻想乡小说随笔@2016~2018</a><a href="/2017/10/20/imust1/" class="next">基于basic语言的工业传输过程计算</a></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a role="navigation" href="/2018/01/17/article/" title="幻想乡小说随笔@2016~2018" class="btn">上一篇</a></li><li class="next pagbuttons"><a role="navigation" href="/2017/10/20/imust1/" title="基于basic语言的工业传输过程计算" class="btn">下一篇</a></li></ul></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>